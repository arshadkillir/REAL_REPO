const bcrypt = require('bcryptjs'); const { Tenant, User, MenuItem } = require('./models'); module.exports = async function seed(){ const count = await Tenant.count(); if(count>0) return; const t = await Tenant.create({ name:'Demo Restaurant', slug:'demo', plan:'pro', subscriptionStatus:'active', features:{dinein:true,takeaway:true,delivery:true,inventory:true}, active:true }); const hash = await bcrypt.hash(process.env.DEFAULT_ADMIN_PASSWORD || 'admin123', 10); await User.create({ email:'admin@demo.example', passwordHash:hash, name:'Demo Admin', role:'admin', tenantId: t.id }); await MenuItem.bulkCreate([{ name:'Margherita Pizza', category:'Pizza', price:8.5, tenantId: t.id },{ name:'Cheeseburger', category:'Burgers', price:7, tenantId: t.id }]); console.log('Seed complete'); };
